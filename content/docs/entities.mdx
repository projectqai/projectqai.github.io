---
title: Understanding Entities
description: Learn about Hydris's Entity Component System and how entities work
---

## What is an Entity?

Hydris uses an **Entity Component System (ECS)** architecture where entities are flexible, composable containers whose meaning and behavior emerge from the components they contain.

**An entity is nothing more than an ID with a collection of components.** There is no rigid type system or class hierarchy.

### Core Concept: Emergence over Classification

Instead of defining strict types like "Sensor" or "Detection", Hydris uses a compositional approach:

- **Entities** are universal containers identified by a unique string ID
- **Components** define capabilities, attributes, or characteristics
- **Meaning emerges** from which components are present

What something "is" depends on what components it has:

- An entity with `geo` and `symbol` becomes a **map marker**
- An entity with `geo` and `taskable` becomes an **asset** that can perform actions
- An entity with `detection` and `bearing` becomes a **sensor detection**
- An entity with `track` becomes a **fused track** from multiple sensors
- An entity with `camera` becomes a **video feed**

There is no `type` field. The system doesn't enforce semantics. Clients interpret meaning based on component presence.

### Why This Matters

This architecture enables:

1. **Flexibility** - Add new capabilities without changing schemas
2. **Composability** - Mix and match components to create exactly what you need
3. **Extensibility** - Different systems can interpret entities differently
4. **Simplicity** - One unified data model instead of dozens of types

It is entirely plausible and intended to have entities that have no visual representation, such as raw sensor detections or task assignments.

## Entity Structure

Every entity has:

```typescript
{
  id: string,              // Unique identifier (required)
  label?: string,          // Human-readable name (optional)

  // Metadata components
  controller?: ControllerRef,    // Which system owns this entity
  lifetime?: Lifetime,           // When this entity is valid
  priority?: Priority,           // Network QoS priority

  // Capability components (all optional)
  geo?: GeoSpatialComponent,
  symbol?: SymbolComponent,
  camera?: CameraComponent,
  detection?: DetectionComponent,
  bearing?: BearingComponent,
  locationUncertainty?: LocationUncertaintyComponent,
  track?: TrackComponent,
  locator?: LocatorComponent,
  taskable?: TaskableComponent,
}
```

## Available Components

Entities compose from these building blocks:

| Component | Purpose |
|-----------|---------|
| **Lifetime**              | Temporal validity bounds (from/until timestamps) |
| **ControllerRef**         | Ownership by contributing system |
| **Priority**              | Quality of Service control for bandwidth-constrained networks |
| **GeoSpatialComponent**   | Physical location in 3D space (lat/lon/alt) |
| **SymbolComponent**       | Visual representation using MIL-STD-2525C symbology |
| **DetectionComponent**    | Links to detector entity, classification metadata |
| **BearingComponent**      | Directional vector (azimuth, elevation) |
| **TrackComponent**        | Marks entity as a fused track |
| **CameraComponent**       | Video feed URLs for visual observation |
| **LocationUncertaintyComponent** | Covariance matrices for position/velocity uncertainty |
| **LocatorComponent**      | References the entity this sensor is locating |
| **TaskableComponent**     | Defines assignable tasks with context |

## Example: Sensor and Detection

Here's how a sensor and its detection emerge from components:

```typescript
// A sensor entity - has position and symbol
const sensor = {
  id: 'radar-1',
  geo: { latitude: 52.52, longitude: 13.40, altitude: 100 },
  symbol: { milStd2525C: 'SFGPES----' }  // Friendly ground radar
};

// A detection from that sensor - has detection, bearing, and position
const detection = {
  id: 'detection-123',
  geo: { latitude: 52.53, longitude: 13.41, altitude: 500 },
  bearing: { azimuth: 180, elevation: 15 },
  detection: {
    detectorEntityID: 'radar-1',
    classification: 'drone',
    lastMeasured: '2025-01-15T10:30:00Z'
  }
};
```

No explicit type declarations needed - the presence of components defines what each entity represents.

## Querying by Components

Downstream systems filter entities based on component presence:

```typescript
// Show everything with a position
entities.filter(e => e.geo)

// Show all tracks
entities.filter(e => e.track)

// Show detections from specific sensor
entities.filter(e => e.detection?.detectorEntityID === 'radar-1')

// Show things that can be tasked
entities.filter(e => e.taskable)
```

## Next Steps

- [Create your first entity](/docs/creating-entities)
- [Component reference](/docs/components)
