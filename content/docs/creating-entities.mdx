---
title: Creating Entities
description: Learn how to create and push entities to Hydris in TypeScript, Python, and Go
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

## Overview

Creating entities in Hydris involves:
1. Defining entity objects with components
2. Connecting to the Hydris gRPC service
3. Pushing entities using the `Push` RPC method

This guide shows examples primarily in TypeScript, with patterns applicable to Python and Go.

## Quick Start

The simplest entity has just an `id` and a `geo` position:

```typescript
const entity = {
  id: 'sensor-1',
  geo: {
    latitude: 52.52,
    longitude: 13.40,
    altitude: 100
  }
};
```

## Complete Example

Here's a complete example showing how to create several entities and push them to Hydris:

<Tabs items={['TypeScript', 'Python', 'Go']}>
  <Tab value="TypeScript">

```typescript
import { credentials } from '@grpc/grpc-js';
import { GrpcTransport } from '@protobuf-ts/grpc-transport';
import { WorldServiceClient } from './generated/world.client';

// Create entities
const sensor = {
  id: 'radar-1',
  label: 'North Radar Station',
  geo: {
    latitude: 52.52,
    longitude: 13.40,
    altitude: 100
  },
  symbol: {
    milStd2525C: 'SFGPES----'  // Friendly ground radar
  }
};

const detection = {
  id: 'detection-001',
  geo: {
    latitude: 52.53,
    longitude: 13.41,
    altitude: 500
  },
  bearing: {
    azimuth: 180,
    elevation: 15
  },
  detection: {
    detectorEntityID: 'radar-1',
    classification: 'drone'
  }
};

// Connect and push
async function pushEntities() {
  const transport = new GrpcTransport({
    host: 'localhost:50051',
    channelCredentials: credentials.createInsecure(),
  });

  const client = new WorldServiceClient(transport);

  const response = await client.push({
    changes: [sensor, detection]
  });

  if (!response.response.accepted) {
    throw new Error(`Failed: ${response.response.debug}`);
  }

  console.log('Entities pushed successfully');
  transport.close();
}

pushEntities().catch(console.error);
```
  </Tab>
  <Tab value="Python">
```python
import grpc
from world_pb2 import Entity, EntityChangeRequest, GeoSpatialComponent, \
                      SymbolComponent, DetectionComponent, BearingComponent
from world_pb2_grpc import WorldServiceStub

# Create entities
sensor = Entity(
    id='radar-1',
    label='North Radar Station',
    geo=GeoSpatialComponent(
        latitude=52.52,
        longitude=13.40,
        altitude=100
    ),
    symbol=SymbolComponent(
        milStd2525C='SFGPES----'
    )
)

detection = Entity(
    id='detection-001',
    geo=GeoSpatialComponent(
        latitude=52.53,
        longitude=13.41,
        altitude=500
    ),
    bearing=BearingComponent(
        azimuth=180,
        elevation=15
    ),
    detection=DetectionComponent(
        detectorEntityID='radar-1',
        classification='drone'
    )
)

# Connect and push
def push_entities():
    channel = grpc.insecure_channel('localhost:50051')
    client = WorldServiceStub(channel)

    request = EntityChangeRequest(changes=[sensor, detection])
    response = client.Push(request)

    if not response.accepted:
        raise Exception(f'Failed: {response.debug}')

    print('Entities pushed successfully')
    channel.close()

if __name__ == '__main__':
    push_entities()
```
  </Tab>
  <Tab value="Go">
```go
package main

import (
	"context"
	"log"

	"google.golang.org/grpc"
	"google.golang.org/grpc/credentials/insecure"
	"google.golang.org/protobuf/proto"

	pb "github.com/projectqai/proto/go"
)

func main() {
	// Create entities
	sensor := &pb.Entity{
		Id:    "radar-1",
		Label: proto.String("North Radar Station"),
		Geo: &pb.GeoSpatialComponent{
			Latitude:  52.52,
			Longitude: 13.40,
			Altitude:  100,
		},
		Symbol: &pb.SymbolComponent{
			MilStd2525C: "SFGPES----",
		},
	}

	detection := &pb.Entity{
		Id: "detection-001",
		Geo: &pb.GeoSpatialComponent{
			Latitude:  52.53,
			Longitude: 13.41,
			Altitude:  500,
		},
		Bearing: &pb.BearingComponent{
			Azimuth:   proto.Float64(180),
			Elevation: proto.Float64(15),
		},
		Detection: &pb.DetectionComponent{
			DetectorEntityID: proto.String("radar-1"),
			Classification:   proto.String("drone"),
		},
	}

	// Connect and push
	conn, err := grpc.Dial("localhost:50051",
		grpc.WithTransportCredentials(insecure.NewCredentials()))
	if err != nil {
		log.Fatalf("Failed to connect: %v", err)
	}
	defer conn.Close()

	client := pb.NewWorldServiceClient(conn)

	request := &pb.EntityChangeRequest{
		Changes: []*pb.Entity{sensor, detection},
	}

	response, err := client.Push(context.Background(), request)
	if err != nil {
		log.Fatalf("Push failed: %v", err)
	}

	if !response.Accepted {
		log.Fatalf("Failed: %s", response.Debug)
	}

	log.Println("Entities pushed successfully")
}
```
  </Tab>
</Tabs>

## Adding Components

You can add any combination of components to an entity. Here's an example with a camera:

```typescript
const camera = {
  id: 'cam-001',
  label: 'East Tower Camera',
  geo: {
    latitude: 52.52,
    longitude: 13.42,
    altitude: 80
  },
  symbol: {
    milStd2525C: 'SFGPE-----'
  },
  bearing: {
    azimuth: 270,
    elevation: 0
  },
  camera: {
    cameras: [{
      label: 'Main View',
      url: 'rtsp://camera.example.com/stream1'
    }]
  }
};
```

## Entity Lifecycle

Entities can have temporal bounds using the `lifetime` component:

```typescript
const temporaryMarker = {
  id: 'waypoint-1',
  geo: { latitude: 52.52, longitude: 13.40, altitude: 0 },
  lifetime: {
    from: new Date('2025-01-15T10:00:00Z'),
    until: new Date('2025-01-15T18:00:00Z')
  }
};
```

Hydris automatically expires entities when their `until` time is reached.

## Next Steps

- [Component Reference](/docs/components) - Detailed documentation of all components
- [Understanding Entities](/docs/entities) - Learn about the Entity Component System
