---
title: Taskables
description: Create and execute coordinated actions across connected systems
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

## What are Taskables?

Taskables are entities that represent **actions that can be executed by connected systems**. They enable coordination between different capabilities - like directing a camera to track a target, or assigning a sensor to monitor a specific area.

A taskable entity connects:
- **Context** - What the task is about (e.g., a target to observe)
- **Assignee** - Who will execute the task (e.g., a camera or sensor)

## Core Concept

Taskables don't perform actions themselves - they describe actions that downstream systems can execute. When you create a taskable entity, you're declaring intent: "I want camera X to look at target Y."

Connected systems watch for taskable entities and execute them according to their capabilities. This enables:

- **Sensor coordination** - Direct PTZ cameras to track targets
- **Resource allocation** - Assign assets to missions
- **Workflow automation** - Chain multiple systems together
- **Human-in-the-loop** - Present tasks for operator approval

## Taskable Structure

A taskable entity has three key parts:

```typescript
{
  id: string,              // Unique task identifier
  label?: string,          // Human-readable description
  taskable: {
    context: [             // What this task is about
      { entityId: string }
    ],
    assignee: [            // Who should execute it
      { entityId: string }
    ]
  }
}
```

## Creating Taskables

### Basic Example

Here's a taskable that directs a camera to observe a target:

<Tabs items={['TypeScript', 'Python', 'Go']}>
  <Tab value="TypeScript">
    ```typescript
    const task = {
      id: 'camera-look-at-bird',
      label: 'View Bird with Camera',
      taskable: {
        context: [{
          entityId: 'bird-123'     // What to look at
        }],
        assignee: [{
          entityId: 'camera-001'   // Who should do it
        }]
      }
    };
    ```
  </Tab>
  <Tab value="Python">
    ```python
    from world_pb2 import Entity, TaskableComponent, \
                          TaskableContext, TaskableAssignee

    task = Entity(
        id='camera-look-at-bird',
        label='View Bird with Camera',
        taskable=TaskableComponent(
            context=[TaskableContext(
                entityId='bird-123'
            )],
            assignee=[TaskableAssignee(
                entityId='camera-001'
            )]
        )
    )
    ```
  </Tab>
  <Tab value="Go">
    ```go
    import pb "github.com/projectqai/proto/go"

    task := &pb.Entity{
        Id:    "camera-look-at-bird",
        Label: proto.String("View Bird with Camera"),
        Taskable: &pb.TaskableComponent{
            Context: []*pb.TaskableContext{{
                EntityId: proto.String("bird-123"),
            }},
            Assignee: []*pb.TaskableAssignee{{
                EntityId: proto.String("camera-001"),
            }},
        },
    }
    ```
  </Tab>
</Tabs>

### Multiple Assignees

Assign a task to multiple assets:

```typescript
const task = {
  id: 'multi-sensor-track',
  label: 'Track Target with Multiple Sensors',
  taskable: {
    context: [{
      entityId: 'target-alpha'
    }],
    assignee: [
      { entityId: 'radar-1' },
      { entityId: 'camera-2' },
      { entityId: 'rf-sensor-3' }
    ]
  }
};
```

### Multiple Context Items

Create tasks with multiple related entities:

```typescript
const task = {
  id: 'patrol-area',
  label: 'Patrol Designated Area',
  taskable: {
    context: [
      { entityId: 'waypoint-1' },
      { entityId: 'waypoint-2' },
      { entityId: 'waypoint-3' }
    ],
    assignee: [{
      entityId: 'drone-001'
    }]
  }
};
```

## Executing Tasks

Once a taskable entity is created, downstream systems can execute it using the `RunTask` RPC:

<Tabs items={['TypeScript', 'Python', 'Go']}>
  <Tab value="TypeScript">
    ```typescript
    import { WorldServiceClient } from './generated/world.client';

    async function executeTask(taskId: string) {
      const client = new WorldServiceClient(transport);

      const response = await client.runTask({
        entityId: taskId
      });

      console.log('Execution ID:', response.response.executionId);
      console.log('Status:', response.response.status);

      if (response.response.humanReadableReason) {
        console.log('Reason:', response.response.humanReadableReason);
      }
    }

    executeTask('camera-look-at-bird');
    ```
  </Tab>
  <Tab value="Python">
    ```python
    from world_pb2 import RunTaskRequest
    from world_pb2_grpc import WorldServiceStub

    def execute_task(client: WorldServiceStub, task_id: str):
        request = RunTaskRequest(entityId=task_id)
        response = client.RunTask(request)

        print(f'Execution ID: {response.executionId}')
        print(f'Status: {response.status}')

        if response.humanReadableReason:
            print(f'Reason: {response.humanReadableReason}')

    execute_task(client, 'camera-look-at-bird')
    ```
  </Tab>
  <Tab value="Go">
    ```go
    import (
        "context"
        "fmt"
        pb "github.com/projectqai/proto/go"
    )

    func executeTask(client pb.WorldServiceClient, taskId string) error {
        request := &pb.RunTaskRequest{
            EntityId: taskId,
        }

        response, err := client.RunTask(context.Background(), request)
        if err != nil {
            return err
        }

        fmt.Printf("Execution ID: %s\n", response.ExecutionId)
        fmt.Printf("Status: %v\n", response.Status)

        if response.HumanReadableReason != nil {
            fmt.Printf("Reason: %s\n", *response.HumanReadableReason)
        }

        return nil
    }
    ```
  </Tab>
</Tabs>

### Task Status

The `RunTask` RPC returns a status indicating execution state:

- `TaskStatusRunning (1)` - Task is being executed
- `TaskStatusCompleted (2)` - Task finished successfully
- `TaskStatusFailed (3)` - Task failed (check `humanReadableReason`)

## Common Patterns

### Sensor-Target Assignment

Direct a PTZ camera to a specific target:

```typescript
const sensorTask = {
  id: 'track-drone',
  label: 'Track Detected Drone',
  taskable: {
    context: [{ entityId: 'drone-detection-001' }],
    assignee: [{ entityId: 'ptz-camera-east' }]
  }
};
```

### Area Monitoring

Assign a sensor to monitor a geographic region:

```typescript
const monitorTask = {
  id: 'monitor-sector-b',
  label: 'Monitor Sector B',
  taskable: {
    context: [{ entityId: 'sector-b-boundary' }],
    assignee: [{ entityId: 'radar-station-2' }]
  }
};
```

### Multi-Asset Coordination

Coordinate multiple assets on a single objective:

```typescript
const coordinatedTask = {
  id: 'investigate-anomaly',
  label: 'Investigate Anomaly',
  taskable: {
    context: [{ entityId: 'anomaly-report-442' }],
    assignee: [
      { entityId: 'recon-drone-1' },
      { entityId: 'ground-team-alpha' },
      { entityId: 'surveillance-van-3' }
    ]
  }
};
```

## Implementation Notes

### For System Integrators

When implementing task execution in your system:

1. **Watch for taskables** - Use `WatchEntities` to monitor taskable entities
2. **Filter by assignee** - Only execute tasks assigned to your system's entities
3. **Check context** - Retrieve context entities to understand what to do
4. **Execute and report** - Perform the action and update via `RunTask`

### Query for Your Tasks

Find tasks assigned to your assets:

```typescript
// Get all taskables assigned to camera-001
const tasks = entities.filter(e =>
  e.taskable?.assignee?.some(a => a.entityId === 'camera-001')
);
```

### Task Lifecycle

1. **Creation** - Task entity is pushed to Hydris
2. **Discovery** - Assignee systems discover the task via `WatchEntities`
3. **Execution** - Assignee calls `RunTask` to begin execution
4. **Completion** - Status updates track progress
5. **Cleanup** - Task entity expires or is removed when complete

## Next Steps

- [Creating Entities](/docs/creating-entities) - Learn how to create taskable entities
- [Component Reference](/docs/components) - Detailed TaskableComponent documentation
- [Understanding Entities](/docs/entities) - Learn about the Entity Component System
